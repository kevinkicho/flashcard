import './styles/main.scss';
import { createCardDOM } from './components/Card';
import { vocabService } from './services/vocabService';

// Initialize State
let currentIndex = 0;
// Load data from the service
const vocabList = vocabService.getFlashcardData();

const container = document.getElementById('card-container');
const prevBtn = document.getElementById('prev-btn');
const nextBtn = document.getElementById('next-btn');

function renderCard(index) {
    // Safety check
    if (!vocabList || vocabList.length === 0) {
        container.innerHTML = '<p>No vocabulary data found.</p>';
        return;
    }

    container.innerHTML = '';
    const data = vocabList[index];
    const cardElement = createCardDOM(data);
    container.appendChild(cardElement);
}

// Initial Render
renderCard(currentIndex);

// Button Logic
nextBtn.addEventListener('click', () => {
    if (currentIndex < vocabList.length - 1) {
        currentIndex++;
        renderCard(currentIndex);
    } else {
        currentIndex = 0; // Loop back to start
        renderCard(currentIndex);
    }
});

prevBtn.addEventListener('click', () => {
    if (currentIndex > 0) {
        currentIndex--;
        renderCard(currentIndex);
    }
});
